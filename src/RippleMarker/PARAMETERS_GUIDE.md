# ğŸ¯ RippleMarker é«˜åº¦å“åº”å¼å‚æ•°è¯¦è§£

## ğŸ“‹ å‚æ•°è¯´æ˜

### `referenceHeight` - å‚è€ƒé«˜åº¦

**ä½œç”¨**ï¼šè¿™æ˜¯æ ‡è®°çš„"æœ€ä½³è§‚å¯Ÿé«˜åº¦"ï¼Œç”¨äºè®¡ç®—ç¼©æ”¾æ¯”ä¾‹ã€‚

**å·¥ä½œåŸç†**ï¼š

- å½“ç›¸æœºé«˜åº¦ = `referenceHeight` æ—¶ï¼Œæ ‡è®°æ˜¾ç¤ºä¸ºæ­£å¸¸å¤§å°ï¼ˆscale = 1ï¼‰
- å½“ç›¸æœºé«˜åº¦ < `referenceHeight` æ—¶ï¼Œæ ‡è®°ä¼šæ”¾å¤§
- å½“ç›¸æœºé«˜åº¦ > `referenceHeight` æ—¶ï¼Œæ ‡è®°ä¼šç¼©å°

**å¦‚ä½•è®¾ç½®**ï¼š

```typescript
// ç¤ºä¾‹1ï¼šåŸºäºåœ†é”¥ä½“é«˜åº¦è®¾ç½®
pyramidHeight: 1000,  // åœ†é”¥ä½“é«˜åº¦ 1000m
referenceHeight: 4000, // å‚è€ƒé«˜åº¦ = åœ†é”¥ä½“é«˜åº¦ + 3000m

// ç¤ºä¾‹2ï¼šåŸºäºå®é™…è§‚å¯Ÿéœ€æ±‚è®¾ç½®
referenceHeight: 5000, // åœ¨ 5000m é«˜åº¦è§‚å¯Ÿæ•ˆæœæœ€ä½³

// ç¤ºä¾‹3ï¼šåŸºäºåœºæ™¯ç‰¹ç‚¹è®¾ç½®
referenceHeight: 10000, // é€‚åˆé«˜ç©ºè§‚å¯Ÿçš„åœºæ™¯
```

### `fadeRange` - æ·¡å…¥æ·¡å‡ºèŒƒå›´

**ä½œç”¨**ï¼šæ§åˆ¶æ ‡è®°å¼€å§‹æ·¡å‡ºçš„è·ç¦»èŒƒå›´ã€‚

**å·¥ä½œåŸç†**ï¼š

- åœ¨ `referenceHeight Â± fadeRange` èŒƒå›´å†…ï¼šå®Œå…¨æ˜¾ç¤ºï¼ˆopacity = 1ï¼‰
- è¶…å‡ºè¿™ä¸ªèŒƒå›´ï¼šå¼€å§‹æ·¡å‡ºï¼Œè·ç¦»è¶Šè¿œé€æ˜åº¦è¶Šä½
- å½“è·ç¦»è¶…è¿‡ `referenceHeight + fadeRange` æ—¶ï¼šå®Œå…¨é€æ˜ï¼ˆopacity = 0ï¼‰

**å¦‚ä½•è®¾ç½®**ï¼š

```typescript
// ç¤ºä¾‹1ï¼šå°èŒƒå›´æ·¡å‡ºï¼ˆé€‚åˆè¿‘è·ç¦»è§‚å¯Ÿï¼‰
fadeRange: 1000,  // 1000m èŒƒå›´å†…å®Œå…¨æ˜¾ç¤º

// ç¤ºä¾‹2ï¼šä¸­ç­‰èŒƒå›´æ·¡å‡ºï¼ˆå¹³è¡¡æ•ˆæœï¼‰
fadeRange: 3000,  // 3000m èŒƒå›´å†…å®Œå…¨æ˜¾ç¤º

// ç¤ºä¾‹3ï¼šå¤§èŒƒå›´æ·¡å‡ºï¼ˆé€‚åˆè¿œè·ç¦»è§‚å¯Ÿï¼‰
fadeRange: 5000,  // 5000m èŒƒå›´å†…å®Œå…¨æ˜¾ç¤º
```

## ğŸ¨ å®é™…æ•ˆæœæ¼”ç¤º

### åœºæ™¯ 1ï¼šåŸå¸‚åœ°æ ‡æ ‡è®°

```typescript
const cityMarker = RippleMarker(viewer, {
  lon: 116.4074,
  lat: 39.9042,
  pyramidHeight: 500, // 500m é«˜çš„åœ†é”¥ä½“
  heightResponsive: {
    enabled: true,
    referenceHeight: 2000, // åœ¨ 2000m é«˜åº¦è§‚å¯Ÿæœ€ä½³
    fadeRange: 1500, // 500m-3500m èŒƒå›´å†…å®Œå…¨æ˜¾ç¤º
    minScale: 0.5,
    maxScale: 1.5,
  },
});
```

**æ•ˆæœ**ï¼š

- 500m-3500mï¼šå®Œå…¨æ˜¾ç¤ºï¼Œå¤§å°é€‚ä¸­
- 3500m-5000mï¼šé€æ¸æ·¡å‡º
- > 5000mï¼šå®Œå…¨é€æ˜

### åœºæ™¯ 2ï¼šé«˜ç©ºèˆªæ‹æ ‡è®°

```typescript
const aerialMarker = RippleMarker(viewer, {
  lon: 121.4737,
  lat: 31.2304,
  pyramidHeight: 2000, // 2000m é«˜çš„åœ†é”¥ä½“
  heightResponsive: {
    enabled: true,
    referenceHeight: 10000, // åœ¨ 10000m é«˜åº¦è§‚å¯Ÿæœ€ä½³
    fadeRange: 5000, // 5000m-15000m èŒƒå›´å†…å®Œå…¨æ˜¾ç¤º
    minScale: 0.3,
    maxScale: 2.0,
  },
});
```

**æ•ˆæœ**ï¼š

- 5000m-15000mï¼šå®Œå…¨æ˜¾ç¤ºï¼Œå¤§å°é€‚ä¸­
- 15000m-20000mï¼šé€æ¸æ·¡å‡º
- > 20000mï¼šå®Œå…¨é€æ˜

### åœºæ™¯ 3ï¼šè¿‘è·ç¦»è§‚å¯Ÿæ ‡è®°

```typescript
const closeMarker = RippleMarker(viewer, {
  lon: 113.2644,
  lat: 23.1291,
  pyramidHeight: 200, // 200m é«˜çš„åœ†é”¥ä½“
  heightResponsive: {
    enabled: true,
    referenceHeight: 1000, // åœ¨ 1000m é«˜åº¦è§‚å¯Ÿæœ€ä½³
    fadeRange: 500, // 500m-1500m èŒƒå›´å†…å®Œå…¨æ˜¾ç¤º
    minScale: 0.8,
    maxScale: 1.2,
  },
});
```

**æ•ˆæœ**ï¼š

- 500m-1500mï¼šå®Œå…¨æ˜¾ç¤ºï¼Œå¤§å°é€‚ä¸­
- 1500m-2000mï¼šé€æ¸æ·¡å‡º
- > 2000mï¼šå®Œå…¨é€æ˜

## ğŸ”§ å‚æ•°è°ƒä¼˜å»ºè®®

### 1. æ ¹æ®åœ†é”¥ä½“é«˜åº¦è®¾ç½® referenceHeight

```typescript
// æ¨èå…¬å¼
referenceHeight = pyramidHeight + 2000~5000

// ç¤ºä¾‹
pyramidHeight: 1000  â†’ referenceHeight: 3000~6000
pyramidHeight: 2000  â†’ referenceHeight: 4000~7000
pyramidHeight: 500   â†’ referenceHeight: 2500~5500
```

### 2. æ ¹æ®è§‚å¯Ÿéœ€æ±‚è®¾ç½® fadeRange

```typescript
// è¿‘è·ç¦»è§‚å¯Ÿï¼ˆåŸå¸‚çº§åˆ«ï¼‰
fadeRange: 1000~2000

// ä¸­è·ç¦»è§‚å¯Ÿï¼ˆåŒºåŸŸçº§åˆ«ï¼‰
fadeRange: 2000~4000

// è¿œè·ç¦»è§‚å¯Ÿï¼ˆå›½å®¶çº§åˆ«ï¼‰
fadeRange: 4000~8000
```

### 3. ç»„åˆä½¿ç”¨ç¤ºä¾‹

```typescript
// åŸå¸‚åœ°æ ‡ - è¿‘è·ç¦»è§‚å¯Ÿ
heightResponsive: {
    referenceHeight: 3000,  // 3000m æœ€ä½³è§‚å¯Ÿé«˜åº¦
    fadeRange: 1500,        // 1500m-4500m å®Œå…¨æ˜¾ç¤º
}

// å±±è„‰æ ‡è®° - ä¸­è·ç¦»è§‚å¯Ÿ
heightResponsive: {
    referenceHeight: 8000,  // 8000m æœ€ä½³è§‚å¯Ÿé«˜åº¦
    fadeRange: 3000,        // 5000m-11000m å®Œå…¨æ˜¾ç¤º
}

// å›½å®¶è¾¹ç•Œ - è¿œè·ç¦»è§‚å¯Ÿ
heightResponsive: {
    referenceHeight: 15000, // 15000m æœ€ä½³è§‚å¯Ÿé«˜åº¦
    fadeRange: 5000,        // 10000m-20000m å®Œå…¨æ˜¾ç¤º
}
```

## ğŸ¯ å¿«é€Ÿé…ç½®æ¨¡æ¿

### æ¨¡æ¿ 1ï¼šåŸå¸‚åœ°æ ‡

```typescript
heightResponsive: {
    enabled: true,
    referenceHeight: 3000,  // 3km æœ€ä½³è§‚å¯Ÿé«˜åº¦
    fadeRange: 2000,        // 2km æ·¡å‡ºèŒƒå›´
    minScale: 0.5,
    maxScale: 1.5,
    updateInterval: 100,
}
```

### æ¨¡æ¿ 2ï¼šåŒºåŸŸæ ‡è®°

```typescript
heightResponsive: {
    enabled: true,
    referenceHeight: 8000,  // 8km æœ€ä½³è§‚å¯Ÿé«˜åº¦
    fadeRange: 4000,        // 4km æ·¡å‡ºèŒƒå›´
    minScale: 0.3,
    maxScale: 2.0,
    updateInterval: 100,
}
```

### æ¨¡æ¿ 3ï¼šå…¨çƒæ ‡è®°

```typescript
heightResponsive: {
    enabled: true,
    referenceHeight: 20000, // 20km æœ€ä½³è§‚å¯Ÿé«˜åº¦
    fadeRange: 10000,       // 10km æ·¡å‡ºèŒƒå›´
    minScale: 0.2,
    maxScale: 3.0,
    updateInterval: 100,
}
```

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

1. **ä»å¤§åˆ°å°è°ƒæ•´**ï¼šå…ˆè®¾ç½®è¾ƒå¤§çš„ `referenceHeight` å’Œ `fadeRange`ï¼Œç„¶åæ ¹æ®å®é™…æ•ˆæœé€æ­¥è°ƒæ•´
2. **è§‚å¯Ÿå®é™…æ•ˆæœ**ï¼šåœ¨æµè§ˆå™¨ä¸­æµ‹è¯•ä¸åŒé«˜åº¦ä¸‹çš„æ˜¾ç¤ºæ•ˆæœ
3. **è€ƒè™‘åœºæ™¯ç‰¹ç‚¹**ï¼šåŸå¸‚ã€å±±åŒºã€æµ·æ´‹ç­‰ä¸åŒåœºæ™¯éœ€è¦ä¸åŒçš„å‚æ•°
4. **å¹³è¡¡æ€§èƒ½**ï¼š`fadeRange` è¶Šå¤§ï¼Œè®¡ç®—è¶Šé¢‘ç¹ï¼Œå¯ä»¥é€‚å½“å¢åŠ  `updateInterval`

è¿™æ ·è®¾ç½®åï¼Œä½ çš„æ ‡è®°å°±ä¼šåœ¨ä¸åŒé«˜åº¦ä¸‹éƒ½æœ‰æœ€ä½³çš„æ˜¾ç¤ºæ•ˆæœï¼ğŸ‰
